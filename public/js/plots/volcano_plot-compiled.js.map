{"version":3,"sources":["volcano_plot.js"],"names":[],"mappings":";;AAAA;;;AAGA,cAAY,qBAAS,IAAT,EAAe,aAAf,EAA8B,QAA9B,EAAuC;AAC/C;AACA,SAAK,IAAL,GAAY,KAAK,IAAL,IAAa,UAAS,CAAT,EAAW;AAAC,eAAO,KAAK,GAAL,CAAS,CAAT,IAAY,KAAK,KAAxB;AAA+B,KAApE;AACA,SAAK,KAAL,GAAa,KAAK,KAAL,IAAc,UAAS,CAAT,EAAW;AAAC,eAAO,KAAK,GAAL,CAAS,CAAT,IAAY,KAAK,IAAxB;AAA8B,KAArE;;AAEA,SAAK,eAAL,GAAsB;AACjB,gBAAO,CAAC,EAAC,MAAK,QAAN,EAAe,GAAE,IAAjB,EAAuB,GAAE,CAAzB,EAA4B,OAAM,GAAlC,EAAuC,SAAQ,EAA/C,EAAmD,IAAG,KAAtD,EAAD,EAA+D,EAAC,MAAK,QAAN,EAAe,GAAE,IAAjB,EAAuB,GAAE,GAAzB,EAA8B,OAAM,GAApC,EAAyC,SAAQ,EAAjD,EAAqD,IAAG,KAAxD,EAA/D,CADU;AAEjB,gBAAO,CAAC,EAAC,MAAK,QAAN,EAAe,GAAE,GAAjB,EAAsB,GAAE,CAAxB,EAA2B,OAAM,GAAjC,EAAsC,SAAQ,EAA9C,EAAkD,IAAG,KAArD,EAAD,EAA8D,EAAC,MAAK,QAAN,EAAe,GAAE,IAAjB,EAAuB,GAAE,GAAzB,EAA8B,OAAM,GAApC,EAAyC,SAAQ,EAAjD,EAAqD,IAAG,KAAxD,EAA9D;AAFU,KAAtB;;AAKA,SAAK,MAAL,GAAc,IAAd;AACA,QAAI,SAAO,SAAX,EAAqB;AACjB,aAAK,MAAL,GAAc,KAAK,eAAnB;AACH;AACD,SAAK,aAAL,GAAqB,aAArB;AACA,QAAI,kBAAkB,SAAlB,IAA+B,iBAAe,EAAlD,EAAsD;AAClD,aAAK,aAAL,GAAqB,MAArB;AACH;;AAED,SAAK,QAAL,GAAgB;AACZ,wBAAe,EADH;AAEZ,yBAAgB,GAFJ,EAES;;AAErB,WAAE,CAJU;AAKZ,WAAE,CALU;AAMZ,eAAM,IANM;AAOZ,gBAAO,GAPK;;AASZ,oBAAW,EATC;AAUZ,uBAAc,EAVF;AAWZ,qBAAY,EAXA;AAYZ,sBAAa,EAZD;;AAcZ,iBAAQ,MAdI;AAeZ,qBAAY,KAfA;AAgBZ,qBAAY,CAhBA;;AAkBZ,iBAAQ,MAlBI;AAmBZ,iBAAQ,OAnBI;AAoBZ,eAAM,OApBM;;AAsBZ,qBAAa,IAtBD;AAuBZ,kBAAS,IAvBG;AAwBZ,eAAM,EAxBM;AAyBZ,qBAAY,YAzBA,CAyBa;;;AAzBb,KAAhB;AA6BA,QAAI,YAAU,SAAd,EAAwB;AACpB,eAAO,MAAP,CAAc,KAAK,QAAnB,EAA6B,QAA7B;AACH;AACJ,CAnDD;;AAsDA,YAAY,SAAZ,CAAsB,cAAtB,GAAuC,UAAS,QAAT,EAAkB;AACrD,QAAI,OAAO,IAAX;AACA,QAAI,YAAU,SAAd,EAAwB;AACpB,eAAO,MAAP,CAAc,KAAK,QAAnB,EAA6B,QAA7B;AACH;;AAED,SAAK,MAAL,GAAa,EAAC,KAAK,KAAK,QAAL,CAAc,UAApB,EAAgC,QAAQ,KAAK,QAAL,CAAc,aAAtD;AACT,eAAO,KAAK,QAAL,CAAc,YADZ,EAC0B,MAAM,KAAK,QAAL,CAAc,WAD9C,EAAb;AAEA,QAAI,cAAc,QAAlB;AACA,SAAK,IAAI,UAAT,IAAuB,KAAK,MAA5B,EAAmC;AAC/B,YAAI,SAAU,KAAK,MAAL,CAAY,UAAZ,CAAd;AACA,aAAK,IAAI,IAAE,CAAX,EAAc,IAAE,OAAO,MAAvB,EAA+B,GAA/B,EAAoC;AAChC,gBAAI,OAAO,OAAO,CAAP,CAAX;AACA,gBAAI,cAAY,KAAK,CAArB,EAAuB;AACnB,8BAAc,KAAK,CAAnB;AACH;AACJ;AACJ;;AAED;AACA,SAAK,OAAL,GAAe,KAAK,MAAL,CAAY,IAA3B;AACA,SAAK,OAAL,GAAe,KAAK,MAAL,CAAY,GAA3B;AACA,SAAK,WAAL,GAAmB,KAAK,QAAL,CAAc,KAAd,GAAoB,KAAK,MAAL,CAAY,IAAhC,GAAqC,KAAK,MAAL,CAAY,KAApE;AACA,SAAK,YAAL,GAAoB,KAAK,QAAL,CAAc,MAAd,GAAsB,KAAK,MAAL,CAAY,GAAlC,GAAsC,KAAK,MAAL,CAAY,MAAtE;;AAGA;AACA,SAAK,WAAL,GAAmB,KAAK,QAAL,CAAc,OAAjC;AACA;AACA,SAAK,MAAL,GAAc,GAAG,KAAH,CAAS,MAAT,GAAkB,MAAlB,CAAyB,CAAC,KAAK,IAAL,CAAU,KAAK,QAAL,CAAc,WAAxB,CAAD,EAAuC,KAAK,IAAL,CAAU,KAAK,QAAL,CAAc,WAAxB,CAAvC,CAAzB,EACT,KADS,CACH,CAAC,KAAK,OAAN,EAAe,KAAK,OAAL,GAAa,KAAK,WAAjC,CADG,CAAd;AAEA,SAAK,MAAL,GAAc,GAAG,KAAH,CAAS,MAAT,GAAkB,MAAlB,CAAyB,CAAC,CAAD,EAAI,KAAK,KAAL,CAAW,KAAK,WAAhB,IAA6B,CAAC,CAAlC,CAAzB,EACT,KADS,CACH,CAAC,KAAK,MAAL,CAAY,GAAZ,GAAgB,KAAK,YAAtB,EAAoC,KAAK,OAAzC,CADG,CAAd;AAEA,SAAK,UAAL,GAAkB,GAAG,KAAH,CAAS,GAAT,GAAe,MAAf,CAAsB,CAAC,CAAD,EAAG,GAAH,CAAtB,EACb,KADa,CACP,CAAC,CAAD,EAAI,EAAJ,CADO,CAAlB;AAEH,CAnCD;;AAqCA,YAAY,SAAZ,CAAsB,MAAtB,GAA+B,UAAS,UAAT,EAAqB,QAArB,EAA8B;AACzD,QAAI,OAAM,IAAV;AACA,QAAG,cAAa,SAAhB,EAA0B;AACtB,aAAK,MAAL,GAAc,UAAd;AACH;AACD,QAAG,YAAY,SAAf,EAAyB;AACrB,YAAI,kBAAkB,EAAE,MAAI,KAAK,aAAX,EAA0B,MAA1B,EAAtB;AACA,YAAG,gBAAgB,KAAhB,KAAwB,EAAxB,IAA8B,gBAAgB,MAAhB,KAAyB,EAA1D,EAA6D;AACzD,iBAAK,QAAL,CAAc,KAAd,GAAsB,gBAAgB,KAAhB,EAAtB;AACA,iBAAK,QAAL,CAAc,MAAd,GAAuB,gBAAgB,MAAhB,EAAvB;AACH;AACJ;AACD,QAAI,OAAO,KAAK,MAAhB;AACA,SAAK,cAAL,CAAoB,QAApB;;AAGA,aAAS,MAAT,GAAkB;AAAG;AACjB,cAAM,MAAN,CAAa,SAAb,EAAwB,IAAxB,CAA6B,KAAK,OAAlC;AACA,cAAM,MAAN,CAAa,SAAb,EAAwB,IAAxB,CAA6B,KAAK,OAAlC;AACA,cAAM,MAAN,CAAa,cAAb,EAA6B,IAA7B,CAAkC,KAAK,KAAvC;AACA,cAAM,MAAN,CAAa,cAAb,EAA6B,IAA7B,CAAkC,KAAK,KAAvC;AACA,qBAAa,SAAb,CAAuB,aAAvB,EAAsC,IAAtC,CAA2C,WAA3C,EAAwD,eAAe,GAAG,KAAH,CAAS,SAAxB,GAAoC,GAApC,GAA0C,QAA1C,GAAqD,GAAG,KAAH,CAAS,KAA9D,GAAsE,GAA9H;AACA;AACH;AACD,QAAI,OAAO,GAAG,QAAH,CAAY,IAAZ,GACN,CADM,CACJ,KAAK,MADD,EAEN,CAFM,CAEJ,KAAK,MAFD,EAGN,WAHM,CAGM,CAAC,GAAD,EAAM,EAAN,CAHN,EAIN,EAJM,CAIH,MAJG,EAIK,MAJL,CAAX;AAKA,QAAI,YAAY,GAAG,MAAH,CAAU,MAAM,KAAK,aAArB,CAAhB;AACA,cAAU,SAAV,CAAoB,KAApB,EAA2B,MAA3B;AACA,QAAI,UAAU,UAAU,MAAV,CAAiB,KAAjB,EACT,IADS,CACJ,IADI,EACE,KAAK,aAAL,GAAqB,cADvB,EAET,IAFS,CAEJ,OAFI,EAEK,aAFL,EAGT,IAHS,CAGJ,OAHI,EAGK,KAAK,QAAL,CAAc,KAHnB,EAIT,IAJS,CAIJ,QAJI,EAIM,KAAK,QAAL,CAAc,MAJpB,EAKT,IALS,CAKJ,UALI,EAKQ,QALR,EAMT,IANS,CAMJ,IANI,CAAd;;AAQA,QAAI,QAAO,QACN,MADM,CACC,GADD,CAAX,CAvCyD,CAwCvC;;AAElB,QAAI,eAAc,QACb,MADa,CACN,GADM,EACA;AADA,KAEb,IAFa,CAER,WAFQ,EAEI,eAFJ,CAAlB;;AAKA,YAAQ,MAAR,CAAe,MAAf,EAAuB,MAAvB,CAA8B,cAA9B,EACK,IADL,CACU,IADV,EACgB,SADhB,EAEK,MAFL,CAEY,MAFZ,EAGK,IAHL,CAGU,OAHV,EAGmB,KAAK,WAHxB,EAIK,IAJL,CAIU,QAJV,EAIoB,KAAK,YAJzB,EAKK,IALL,CAKU,GALV,EAKe,KAAK,MAAL,CAAY,IAL3B,EAMK,IANL,CAMU,GANV,EAMe,KAAK,MAAL,CAAY,GAN3B;;AAQA,UAAM,MAAN,CAAa,MAAb,EACK,IADL,CACU,OADV,EACmB,SADnB,EAEK,IAFL,CAEU,OAFV,EAEmB,KAAK,WAFxB,EAGK,IAHL,CAGU,QAHV,EAGoB,KAAK,YAHzB,EAIK,IAJL,CAIU,MAJV,EAIiB,OAJjB,EAI0B,KAJ1B,CAIgC,gBAJhC,EAIiD,KAJjD;;AAQA,SAAK,SAAL,CAAe,KAAf;AACA,SAAK,UAAL,CAAgB,KAAhB;;AAEA,SAAK,YAAL,CAAkB,YAAlB;AACA,SAAK,aAAL,CAAmB,YAAnB;AACA,sBAAkB,KAAK,aAAL,GAAqB,cAAvC,EAAuD,SAAvD,EAAkE,EAAC,OAAM,KAAK,QAAL,CAAc,KAArB,EAA4B,QAAO,KAAK,QAAL,CAAc,MAAjD,EAAlE;AACH,CArED;;AAwEA,YAAY,SAAZ,CAAsB,SAAtB,GAAkC,UAAS,KAAT,EAAe;AAC7C,QAAI,OAAM,IAAV;;AAEA,SAAK,KAAL,GAAa,GAAG,GAAH,CAAO,IAAP,GAAc,KAAd,CAAoB,KAAK,MAAzB,EACR,MADQ,CACD,QADC,EACS,KADT,CACe,CADf,CAAb;;AAGA,SAAK,OAAL,GAAe,GAAG,GAAH,CAAO,IAAP,GAAc,KAAd,CAAoB,KAAK,MAAzB,EACV,MADU,CACH,QADG,EACO,KADP,CACa,CADb,CAAf;;AAGA,SAAK,KAAL,GAAa,GAAG,GAAH,CAAO,IAAP,GAAc,KAAd,CAAoB,KAAK,MAAzB,EACR,MADQ,CACD,MADC,EACO,KADP,CACa,CADb,CAAb;;AAGA,SAAK,OAAL,GAAe,GAAG,GAAH,CAAO,IAAP,GAAc,KAAd,CAAoB,KAAK,MAAzB,EACV,MADU,CACH,MADG,EACK,KADL,CACW,CADX,CAAf;AAEA;AACA;AACA,UAAM,MAAN,CAAa,GAAb,EACK,IADL,CACU,OADV,EACmB,QADnB;AAEI;AAFJ,KAGK,IAHL,CAGU,WAHV,EAGuB,eAAc,CAAd,GAAgB,GAAhB,IAAqB,KAAK,MAAL,CAAY,GAAZ,GAAkB,KAAK,YAA5C,IAA2D,GAHlF,EAIK,IAJL,CAIU,KAAK,OAJf,EAIwB,SAJxB,CAIkC,MAJlC,EAI0C,IAJ1C,CAI+C,MAJ/C,EAIuD,MAJvD;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAM,MAAN,CAAa,GAAb,EACK,IADL,CACU,OADV,EACmB,QADnB;AAEI;AAFJ,KAGK,IAHL,CAGU,WAHV,EAGuB,eAAe,KAAK,MAAL,CAAY,IAA3B,GAAkC,GAAlC,GAAwC,CAAxC,GAA4C,GAHnE,EAIK,IAJL,CAIU,KAAK,OAJf,EAIwB,SAJxB,CAIkC,MAJlC,EAI0C,IAJ1C,CAI+C,MAJ/C,EAIuD,MAJvD;;AAMA;AACA,UAAM,MAAN,CAAa,GAAb,EACK,IADL,CACU,OADV,EACmB,aADnB,EAEK,IAFL,CAEU,WAFV,EAEuB,eAAc,CAAd,GAAgB,GAAhB,IAAqB,KAAK,MAAL,CAAY,GAAZ,GAAkB,KAAK,YAA5C,IAA2D,GAFlF,EAGK,IAHL,CAGU;AACF,gBAAO,MADL;AAEF,kBAAS,MAFP;AAGF,mBAAU;AAHR,KAHV,EAQK,IARL,CAQU,KAAK,KAAL,CACD,QADC,CACQ,CAAC,KAAK,YADd,EAC4B,CAD5B,EAC+B,CAD/B,EAED,UAFC,CAEU,EAFV,CARV;;AAaA,UAAM,MAAN,CAAa,GAAb,EACK,IADL,CACU,OADV,EACmB,aADnB,EAEK,IAFL,CAEU,WAFV,EAEuB,eAAe,KAAK,MAAL,CAAY,IAA3B,GAAkC,GAAlC,GAAwC,CAAxC,GAA4C,GAFnE,EAGK,IAHL,CAGU;AACF,gBAAO,MADL;AAEF,kBAAS,MAFP;AAGF,mBAAU;AAHR,KAHV,EAQK,IARL,CAQU,KAAK,KAAL,CACD,QADC,CACQ,CAAC,KAAK,WADd,EAC2B,CAD3B,EAC8B,CAD9B,EAED,UAFC,CAEU,EAFV,CARV;AAYA,SAAK,eAAL,CAAqB,KAArB;AACH,CAhED;;AAkEA,YAAY,SAAZ,CAAsB,eAAtB,GAAwC,UAAS,KAAT,EAAe;AACnD,QAAI,OAAO,IAAX;AACA;AACA,UAAM,MAAN,CAAa,GAAb,EAAkB,MAAlB,CAAyB,MAAzB;AACI;AADJ,KAEK,IAFL,CAEU,GAFV,EAEe,KAAK,MAAL,CAAY,IAAZ,GAAmB,KAAK,WAAL,GAAiB,CAFnD,EAGK,IAHL,CAGU,GAHV,EAGe,KAAK,MAAL,CAAY,GAAZ,GAAiB,KAAK,YAAtB,GAAqC,KAAK,MAAL,CAAY,MAAZ,GAAmB,CAAnB,GAAqB,CAHzE,EAIK,KAJL,CAIW,MAJX,EAIkB,OAJlB,EAKK,KALL,CAKW,aALX,EAK0B,QAL1B,EAMK,IANL,CAMU,UAAU,CAAV,EAAa;AACf,eAAO,oBAAP;AACH,KARL;;AAUA;AACA,UAAM,MAAN,CAAa,GAAb;AACI;;AADJ,KAGK,MAHL,CAGY,MAHZ,EAIK,IAJL,CAIU,GAJV,EAIe,KAAK,MAAL,CAAY,IAAZ,GAAiB,CAJhC,EAKK,IALL,CAKU,GALV,EAKe,CAAC,CAAD,IAAI,KAAK,MAAL,CAAY,GAAZ,GAAiB,KAAK,YAAL,GAAkB,CAAvC,CALf,EAMK,KANL,CAMW,MANX,EAMkB,OANlB,EAOK,KAPL,CAOW,aAPX,EAO0B,QAP1B,EAQK,IARL,CAQU,UAAU,CAAV,EAAa;AACf,eAAO,iBAAP;AACH,KAVL,EAWK,IAXL,CAWU,WAXV,EAWuB,UAAS,CAAT,EAAY;AAC3B;AACA,eAAO,aAAP;AACH,KAdL;AAeH,CA7BD;;AA+BA,YAAY,SAAZ,CAAsB,UAAtB,GAAmC,UAAS,KAAT,EAAe;AAC9C,QAAI,OAAM,IAAV;AACA,QAAI,KAAK,QAAL,CAAc,KAAd,IAAqB,SAArB,IAAkC,KAAK,QAAL,CAAc,KAAd,IAAqB,EAA3D,EAA8D;AAC1D;AACA,cAAM,MAAN,CAAa,GAAb,EAAkB,MAAlB,CAAyB,MAAzB;AACI;AADJ,SAEK,IAFL,CAEU,GAFV,EAEe,KAAK,MAAL,CAAY,IAAZ,GAAmB,KAAK,WAAL,GAAiB,CAFnD,EAGK,IAHL,CAGU,GAHV,EAGe,KAAK,MAAL,CAAY,GAAZ,GAAgB,CAH/B,EAIK,KAJL,CAIW,MAJX,EAIkB,OAJlB,EAKK,KALL,CAKW,aALX,EAK0B,QAL1B,EAMK,KANL,CAMW,aANX,EAMyB,YANzB,EAOK,KAPL,CAOW,WAPX,EAOwB,MAPxB,EAQK,IARL,CAQU,UAAU,CAAV,EAAa;AACf,mBAAO,KAAK,QAAL,CAAc,KAArB;AACH,SAVL;AAWH;AACJ,CAhBD;;AAkBA,YAAY,SAAZ,CAAsB,YAAtB,GAAmC,UAAS,KAAT,EAAe;AAC9C,QAAI,OAAM,IAAV;AACA;AACA,UAAM,MAAN,CAAa,MAAb,EACK,IADL,CACU,IADV,EACgB,sBADhB,EAEK,IAFL,CAEU,OAFV,EAEmB,YAFnB,EAGK,IAHL,CAGU,IAHV,EAGe,KAAK,MAAL,CAAY,GAH3B,EAIK,IAJL,CAIU,IAJV,EAIe,KAAK,MAAL,CAAY,CAAZ,CAJf,EAKK,IALL,CAKU,IALV,EAKe,KAAK,MAAL,CAAY,GAAZ,GAAgB,KAAK,YALpC,EAMK,IANL,CAMU,IANV,EAMe,KAAK,MAAL,CAAY,CAAZ,CANf,EAOK,IAPL,CAOU,QAPV,EAOoB,MAPpB,EAQK,IARL,CAQU,SARV,EAQqB,KARrB,EASK,IATL,CASU,cATV,EAS0B,CAT1B;AAUA;AACA,UAAM,MAAN,CAAa,MAAb,EACK,IADL,CACU,IADV,EACgB,sBADhB,EAEK,IAFL,CAEU,OAFV,EAEmB,YAFnB,EAGK,IAHL,CAGU,IAHV,EAGe,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,IAAX,IAAiB,CAAC,CAA9B,CAHf,EAIK,IAJL,CAIU,IAJV,EAIe,KAAK,MAAL,CAAY,IAJ3B,EAKK,IALL,CAKU,IALV,EAKe,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,IAAX,IAAiB,CAAC,CAA9B,CALf,EAMK,IANL,CAMU,IANV,EAMe,KAAK,MAAL,CAAY,IAAZ,GAAiB,KAAK,WANrC,EAOK,IAPL,CAOU,QAPV,EAOoB,KAPpB,EAQK,IARL,CAQU,SARV,EAQqB,KARrB,EASK,IATL,CASU,cATV,EAS0B,CAT1B;;AAWA,UAAM,MAAN,CAAa,MAAb,EACK,IADL,CACU,IADV,EACgB,sBADhB,EAEK,IAFL,CAEU,OAFV,EAEmB,YAFnB,EAGK,IAHL,CAGU,GAHV,EAGc,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,IAAX,IAAiB,CAAC,CAA9B,IAAiC,EAH/C,EAIK,IAJL,CAIU,GAJV,EAIc,KAAK,MAAL,CAAY,IAAZ,GAAmB,KAAK,WAAxB,GAAqC,EAJnD,EAKK,IALL,CAKU,UALV,EAMK,IANL,CAMU,MANV,EAMkB,KANlB,EAOK,IAPL,CAOU,cAPV,EAOyB,CAPzB;AAQH,CAjCD;;AAmCA,YAAY,SAAZ,CAAsB,aAAtB,GAAoC,UAAS,KAAT,EAAe;AAC/C,QAAI,OAAM,IAAV;AACA,QAAI,aAAa,MAAM,MAAN,CAAa,GAAb,EAAkB,IAAlB,CAAuB,OAAvB,EAAgC,kBAAhC,CAAjB;AACA,SAAK,IAAI,WAAT,IAAwB,KAAK,MAA7B,EAAoC;AAChC,YAAI,WAAW,WAAW,MAAX,CAAkB,GAAlB,EACV,IADU,CACL,OADK,EACI,UAAS,CAAT,EAAY;AAAC,mBAAO,oBAAmB,WAA1B;AAAuC,SADxD,EAEV,IAFU,CAEL,IAFK,EAEC,UAAS,CAAT,EAAY;AAAC,mBAAO,oBAAmB,WAA1B;AAAuC,SAFrD,CAAf;AAGA,aAAK,WAAL,CAAiB,QAAjB,EAA2B,KAAK,MAAL,CAAY,WAAZ,CAA3B;AACA,YAAI,KAAK,QAAL,CAAc,WAAlB,EAA8B;AAC1B,iBAAK,gBAAL,CAAsB,QAAtB,EAA+B,KAAK,MAAL,CAAY,WAAZ,CAA/B;AACH;AACJ;AACJ,CAZD;;AAcA,YAAY,SAAZ,CAAsB,WAAtB,GAAkC,UAAS,QAAT,EAAmB,MAAnB,EAA0B;AACxD,QAAI,OAAM,IAAV;AACA;AACA,QAAI,UAAU,KAAK,MAAnB;AACA,QAAI,UAAU,KAAK,MAAnB;AACA,QAAI,aAAa,KAAK,UAAtB;;AAEA,aAAS,MAAT,CAAgB,GAAhB,EAAqB,SAArB,CAA+B,QAA/B,EACK,IADL,CACU,MADV,EAEK,KAFL,GAEa,MAFb,CAEoB,QAFpB,EAGK,IAHL,CAGU,OAHV,EAGoB,UAAS,CAAT,EAAW;AAAC,eAAO,oBAAkB,OAAO,IAAzB,GAA8B,UAA9B,GAA0C,EAAE,EAA5C,GAAgD,aAAvD;AAAqE,KAHrG,EAIK,IAJL,CAIU,IAJV,EAIiB,UAAS,CAAT,EAAW;AAAC,eAAO,oBAAkB,OAAO,IAAzB,GAA8B,UAA9B,GAAyC,EAAE,EAAlD;AAAqD,KAJlF,EAKK,IALL,CAKU,IALV,EAKgB,UAAS,CAAT,EAAW;AACnB,YAAI,KAAK,EAAE,CAAX;AACA,YAAI,KAAG,KAAK,QAAL,CAAc,WAArB,EAAiC;AAC7B,iBAAK,KAAK,QAAL,CAAc,WAAnB;AACH,SAFD,MAEM,IAAI,KAAG,KAAK,QAAL,CAAc,WAArB,EAAiC;AACnC,iBAAK,KAAK,QAAL,CAAc,WAAnB;AACH;AACD,eAAO,QAAQ,KAAK,IAAL,CAAU,WAAW,EAAX,CAAV,CAAR,CAAP;AACH,KAbL,EAcK,IAdL,CAcU,IAdV,EAcgB,UAAS,CAAT,EAAW;AAAC,eAAO,QAAQ,KAAK,KAAL,CAAW,KAAK,GAAL,CAAS,WAAW,EAAE,CAAb,CAAT,EAAyB,KAAK,QAAL,CAAc,OAAvC,CAAX,IAA4D,CAAC,CAArE,IAAwE,CAA/E;AAAiF,KAd7G,EAeK,IAfL,CAeU,GAfV,EAee,UAAS,CAAT,EAAW;AAClB,YAAG,KAAK,QAAL,CAAc,QAAjB,EAA0B;AACtB,mBAAO,KAAK,UAAL,CAAgB,EAAE,KAAlB,CAAP;AACH,SAFD,MAEK;AAAE,mBAAO,KAAK,QAAL,CAAc,KAArB;AAA4B;AACtC,KAnBL,EAoBK,IApBL,CAoBU,MApBV,EAoBkB,UAAS,CAAT,EAAW;AACrB,YAAI,EAAE,CAAF,GAAI,IAAR,EAAa;AACT,gBAAI,EAAE,CAAF,GAAI,CAAR,EAAU;AAAC,uBAAO,KAAP;AAAc,aAAzB,MAA+B;AAAC,uBAAO,OAAP;AAAgB;AACnD,SAFD,MAEK;AACD,mBAAO,MAAP;AACH;AACJ,KA1BL,EA2BK,IA3BL,CA2BU,SA3BV,EA2BqB,GA3BrB,EA4BK,EA5BL,CA4BQ,WA5BR,EA4BqB,UAAS,CAAT,EAAW;AACxB,YAAI,WAAW,GAAG,MAAH,CAAU,IAAV,CAAf;AACA,YAAI,IAAI,GAAG,MAAH,CAAU,IAAV,CAAR;AACA,UAAE,IAAF,CAAO,MAAP,EAAc,QAAd;AACA,UAAE,IAAF,CAAO,SAAP,EAAkB,GAAlB,EAJwB,CAKX;AACb,YAAI,WAAW,mCAAmC,EAAE,KAApD;AACA,aAAK,qBAAL,CAA2B,CAA3B,EAA6B,EAAE,OAA/B,EAAuC,QAAvC,EAAgD,EAAE,IAAlD;AAEH,KArCL,EAsCK,EAtCL,CAsCQ,UAtCR,EAsCoB,UAAS,CAAT,EAAW;AACvB;AACA,YAAI,IAAI,GAAG,MAAH,CAAU,IAAV,CAAR;AACA,UAAE,IAAF,CAAO,MAAP,EAAe,YAAU;AACrB,gBAAI,EAAE,CAAF,GAAI,IAAR,EAAa;AACT,oBAAI,EAAE,CAAF,GAAI,CAAR,EAAU;AAAC,2BAAO,KAAP;AAAc,iBAAzB,MAA+B;AAAC,2BAAO,OAAP;AAAgB;AACnD,aAFD,MAEK;AACD,uBAAO,MAAP;AACH;AACJ,SAND;AAOA,WAAG,MAAH,CAAU,MAAV,EAAkB,SAAlB,CAA4B,0BAA5B,EAAwD,KAAxD,CAA8D,SAA9D,EAAyE,MAAzE;AACH,KAjDL,EAkDK,EAlDL,CAkDQ,OAlDR,EAkDiB,UAAS,CAAT,EAAW;AACpB,YAAI,UAAU,EAAC,MAAM,EAAE,IAAT,EAAe,MAAK,EAAC,OAAO,EAAE,IAAV,EAApB,EAAd;AACA;;;;AAIA,iBAAS,aAAT,CAAuB,OAAvB;AACH,KAzDL;AA0DH,CAjED;;AAmEA,YAAY,SAAZ,CAAsB,gBAAtB,GAAuC,UAAS,QAAT,EAAmB,MAAnB,EAA0B;AAC7D,QAAI,OAAM,IAAV;AACA;AACA,QAAI,UAAU,KAAK,MAAnB;AACA,QAAI,UAAU,KAAK,MAAnB;AACA,QAAI,aAAa,KAAK,UAAtB;AACA;AACA;;;;;;;;AAQA,aAAS,MAAT,CAAgB,GAAhB,EAAqB,SAArB,CAA+B,MAA/B,EACK,IADL,CACU,MADV,EAEK,KAFL,GAEa,MAFb,CAEoB,MAFpB,EAGK,IAHL,CAGU,OAHV,EAGoB,UAAS,CAAT,EAAW;AAAC,eAAO,oBAAkB,OAAO,IAAzB,GAA8B,QAA9B,GAAwC,OAAO,EAA/C,GAAoD,aAA3D;AAAyE,KAHzG,EAIK,IAJL,CAIU,IAJV,EAIiB,UAAS,CAAT,EAAW;AAAC,eAAO,oBAAkB,OAAO,IAAzB,GAA8B,QAA9B,GAAuC,OAAO,EAArD;AAAwD,KAJrF,EAKK,IALL,CAKU,GALV,EAKe,UAAS,CAAT,EAAW;AAClB,YAAI,KAAK,EAAE,CAAX;AACA,YAAI,KAAG,KAAK,QAAL,CAAc,WAArB,EAAiC;AAC7B,iBAAK,KAAK,QAAL,CAAc,WAAnB;AACH,SAFD,MAEM,IAAI,KAAG,KAAK,QAAL,CAAc,WAArB,EAAiC;AACnC,iBAAK,KAAK,QAAL,CAAc,WAAnB;AACH;AACD,eAAO,QAAQ,KAAK,IAAL,CAAU,WAAW,EAAX,CAAV,CAAR,CAAP;AACH,KAbL,EAcK,IAdL,CAcU,GAdV,EAce,UAAS,CAAT,EAAW;AAAC,eAAO,QAAQ,KAAK,KAAL,CAAW,KAAK,GAAL,CAAS,WAAW,EAAE,CAAb,CAAT,EAAyB,KAAK,QAAL,CAAc,OAAvC,CAAX,IAA4D,CAAC,CAArE,IAAwE,EAA/E;AAAkF,KAd7G,EAeK,IAfL,CAeU,UAAS,CAAT,EAAW;AACb,YAAG,EAAE,CAAF,GAAI,GAAP,EAAW;AACP,gBAAI,EAAE,IAAF,CAAO,MAAP,GAAc,EAAlB,EAAqB;AACjB,uBAAO,EAAE,IAAF,CAAO,MAAP,CAAc,CAAd,EAAgB,CAAhB,IAAmB,KAA1B;AACH;AACD,mBAAO,EAAE,IAAT;AACH;AACD,eAAO,EAAP;AACH,KAvBL,EAwBK,IAxBL,CAwBU,aAxBV,EAwBwB,QAxBxB,EAyBK,IAzBL,CAyBU,MAzBV,EAyBkB,UAAS,CAAT,EAAW;AACrB,YAAI,EAAE,CAAF,GAAI,IAAR,EAAa;AACT,gBAAI,EAAE,CAAF,GAAI,CAAR,EAAU;AAAC,uBAAO,KAAP;AAAc,aAAzB,MAA+B;AAAC,uBAAO,OAAP;AAAgB;AACnD,SAFD,MAEK;AACD,mBAAO,MAAP;AACH;AACJ,KA/BL,EAgCK,IAhCL,CAgCU,SAhCV,EAgCqB,GAhCrB,EAiCK,EAjCL,CAiCQ,WAjCR,EAiCqB,UAAS,CAAT,EAAW;AACxB,YAAI,WAAW,GAAG,MAAH,CAAU,IAAV,CAAf;AACA,YAAI,IAAI,GAAG,MAAH,CAAU,IAAV,CAAR;AACA,UAAE,IAAF,CAAO,MAAP,EAAc,QAAd;AACA;AACA;;;;;;;AAOH,KA7CL,EA8CK,EA9CL,CA8CQ,UA9CR,EA8CoB,UAAS,CAAT,EAAW;AACvB;AACA,YAAI,IAAI,GAAG,MAAH,CAAU,IAAV,CAAR;AACA,UAAE,IAAF,CAAO,MAAP,EAAe,YAAU;AACrB,gBAAI,EAAE,CAAF,GAAI,IAAR,EAAa;AACT,oBAAI,EAAE,CAAF,GAAI,CAAR,EAAU;AAAC,2BAAO,KAAP;AAAc,iBAAzB,MAA+B;AAAC,2BAAO,OAAP;AAAgB;AACnD,aAFD,MAEK;AACD,uBAAO,MAAP;AACH;AACJ,SAND;AAOA;AACH,KAzDL;AA0DH,CAzED;;AA2EA,YAAY,SAAZ,CAAsB,YAAtB,GAAmC,UAAS,KAAT,EAAgB;AAC/C,QAAI,OAAO,IAAX;AACA;AACA,UAAM,MAAN,CAAa,MAAb,EACK,IADL,CACU,IADV,EACgB,sBADhB,EAEK,IAFL,CAEU,OAFV,EAEmB,YAFnB;AAGI;AAHJ,KAIK,IAJL,CAIU,IAJV,EAIgB,CAAC,IAJjB,EAKK,IALL,CAKU,IALV,EAKgB,KAAK,MAAL,CAAY,CAAZ,CALhB;AAMI;AANJ,KAOK,IAPL,CAOU,IAPV,EAOgB,KAAK,MAAL,CAAY,GAAZ,GAAkB,KAAK,YAAL,GAAkB,CAPpD,EAQK,IARL,CAQU,IARV,EAQgB,KAAK,MAAL,CAAY,CAAZ,CARhB,EASK,IATL,CASU,QATV,EASoB,MATpB,EAUK,IAVL,CAUU,SAVV,EAUqB,KAVrB,EAWK,IAXL,CAWU,cAXV,EAW0B,CAX1B;AAYA;AACA,UAAM,MAAN,CAAa,MAAb,EACK,IADL,CACU,IADV,EACgB,sBADhB,EAEK,IAFL,CAEU,OAFV,EAEmB,YAFnB,EAGK,IAHL,CAGU,IAHV,EAGgB,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAC,CAAhC,CAHhB;AAII;AAJJ,KAKK,IALL,CAKU,IALV,EAKgB,CAAC,IALjB,EAMK,IANL,CAMU,IANV,EAMgB,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAC,CAAhC,CANhB;AAOI;AAPJ,KAQK,IARL,CAQU,IARV,EAQgB,KAAK,MAAL,CAAY,IAAZ,GAAmB,KAAK,WAAL,GAAiB,CARpD,EASK,IATL,CASU,QATV,EASoB,KATpB,EAUK,IAVL,CAUU,SAVV,EAUqB,KAVrB,EAWK,IAXL,CAWU,cAXV,EAW0B,CAX1B;;AAaA,UAAM,MAAN,CAAa,MAAb,EACK,IADL,CACU,IADV,EACgB,sBADhB,EAEK,IAFL,CAEU,OAFV,EAEmB,YAFnB,EAGK,IAHL,CAGU,GAHV,EAGe,KAAK,MAAL,CAAY,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAC,CAAhC,IAAqC,EAHpD,EAIK,IAJL,CAIU,GAJV,EAIe,KAAK,MAAL,CAAY,IAAZ,GAAmB,KAAK,WAAxB,GAAsC,EAJrD,EAKK,IALL,CAKU,UALV,EAMK,IANL,CAMU,MANV,EAMkB,KANlB,EAOK,IAPL,CAOU,cAPV,EAO0B,CAP1B;AAQH,CArCD;;AAuCA,YAAY,SAAZ,CAAsB,qBAAtB,GAA8C,UAAS,UAAT,EAAqB,IAArB,EAA2B,QAA3B,EAAqC,KAArC,EAA2C;AACrF,QAAI,OAAO,IAAX;AACA,QAAI,QAAM,SAAV,EAAoB;AAChB;AACA,YAAI,UAAU,GAAG,MAAH,CAAU,MAAV,EAAkB,SAAlB,CAA4B,0BAA5B,CAAd;AACA,YAAG,WAAS,SAAT,IAAsB,QAAQ,CAAR,EAAW,MAAX,GAAkB,CAA3C,EAA6C;AACzC,sBAAS,GAAG,MAAH,CAAU,MAAV,EAAkB,MAAlB,CAAyB,KAAzB,EACJ,IADI,CACC,IADD,EACM,yBADN,EAEJ,IAFI,CAEC,OAFD,EAEU,qBAFV,EAGJ,KAHI,CAGE,SAHF,EAGa,MAHb,EAIJ,KAJI,CAIE,SAJF,EAIa,SAJb,CAAT;AAKH,SAND,MAMK;AACD,oBAAQ,IAAR,CAAa,OAAb,EAAsB,qBAAtB;AACH;AACD,gBAAQ,SAAR,CAAkB,KAAlB,EAAyB,MAAzB;AACA,gBAAQ,SAAR,CAAkB,MAAlB,EAA0B,MAA1B;AACA,gBAAQ,SAAR,CAAkB,IAAlB,EAAwB,MAAxB;AACA,gBAAQ,MAAR,CAAe,MAAf,EAAuB,IAAvB,CAA4B,KAA5B,EAAmC,OAAnC,CAA2C,eAA3C,EAA4D,IAA5D;AACA,gBAAQ,MAAR,CAAe,IAAf,EAAqB,OAArB,CAA6B,eAA7B,EAA8C,IAA9C;AACA,gBAAQ,MAAR,CAAe,KAAf,EAAsB,IAAtB,CAA2B,QAA3B;AACA,YAAI,QAAM,SAAV,EAAoB;AAChB,gBAAI,kBAAkB,EAAC,OAAM,GAAP,EAAY,QAAO,GAAnB,EAAuB,cAAa,CAAC,KAAD,EAAO,KAAP,CAApC;AAClB,iCAAgB,UADE,EACU,aAAY,EADtB,EAC0B,eAAc,EADxC,EAAtB;AAEA,oBAAQ,MAAR,CAAe,KAAf,EAAsB,IAAtB,CAA2B,IAA3B,EAAgC,0BAAhC;AACA,gBAAI,UAAU,IAAI,MAAJ,CAAW,SAAX,EAAqB,0BAArB,CAAd;AACA,oBAAQ,MAAR,CAAe,IAAf,EAAoB,eAApB;AACA,oBAAQ,KAAR,CAAc,MAAd,EAAuB,GAAG,KAAH,CAAS,KAAT,GAAe,CAAhB,GAAqB,IAA3C,EACK,KADL,CACW,KADX,EACmB,GAAG,KAAH,CAAS,KAAT,GAAe,EAAhB,GAAsB,IADxC,EAEK,OAFL,CAEa,QAFb,EAEuB,KAFvB,EAGK,KAHL,CAGW,UAHX,EAGuB,UAHvB;AAIH;AACD,gBAAQ,OAAR,CAAgB,QAAhB,EAA0B,KAA1B;AACA,2BAAmB,UAAnB,EAA+B,OAA/B,EAAwC,KAAK,QAAL,CAAc,WAAtD,EAAkE,CAAlE;AACH;AACJ,CAlCD;;AAoCA,SAAS,kBAAT,CAA4B,UAA5B,EAAwC,OAAxC,EAAiD,IAAjD,EAAuD,QAAvD,EAAgE;AAC5D;AACA,YAAQ,KAAR,CAAc,SAAd,EAAyB,OAAzB;AACA,QAAI,gBAAgB,WAAW,IAAX,GAAkB,qBAAlB,EAApB;AACA,QAAI,iBAAkB,QAAQ,IAAR,GAAe,qBAAf,EAAtB;AACA,QAAI,YAAY,SAAhB,EAA0B;AACtB,mBAAW,CAAX;AACH;AACD,QAAI,IAAI,GAAG,KAAH,CAAS,KAAT,GAAe,QAAvB;AACA,QAAI,IAAI,GAAG,KAAH,CAAS,KAAT,GAAe,QAAvB;AACA,QAAI,QAAO,OAAX,EAAmB;AACf,YAAI,cAAc,IAAd,GAAqB,CAAC,eAAe,KAAf,GAAuB,cAAc,KAAtC,IAA6C,CAAtE;AACA,YAAI,cAAc,GAAd,GAAmB,eAAe,MAAlC,GAAyC,QAA7C;AACH,KAHD,MAGM,IAAI,QAAQ,MAAZ,EAAoB;AACtB,YAAI,cAAc,IAAd,GAAqB,cAAc,KAAnC,GAA0C,QAA9C;AACA,YAAI,cAAc,GAAd,GAAkB,cAAc,MAAd,GAAqB,CAAvC,GAAyC,eAAe,MAAf,GAAsB,CAAnE;AACH,KAHK,MAGA,IAAI,QAAQ,SAAZ,EAAuB;AACzB,YAAI,cAAc,IAAd,GAAqB,eAAe,KAApC,GAA4C,QAAhD;AACA,YAAI,cAAc,GAAd,GAAkB,cAAc,MAAd,GAAqB,CAAvC,GAAyC,eAAe,MAAf,GAAsB,CAAnE;AACH,KAHK,MAGA,IAAI,QAAQ,OAAZ,EAAqB;AACvB,YAAI,cAAc,IAAd,GAAqB,CAAC,eAAe,KAAf,GAAuB,cAAc,KAAtC,IAA6C,CAAtE;AACA,YAAI,cAAc,GAAd,GAAkB,cAAc,MAAhC,GAAwC,QAA5C;AACH,KAHK,MAGA,IAAI,QAAQ,YAAZ,EAA0B;AAC5B,YAAI,cAAc,IAAd,GAAqB,cAAc,KAAnC,GAA0C,QAA9C;AACA,YAAI,cAAc,GAAd,GAAmB,eAAe,MAAlC,GAAyC,QAA7C;AACH,KAHK,MAGA,IAAI,QAAQ,eAAZ,EAA6B;AAC/B,YAAI,cAAc,IAAd,GAAqB,eAAe,KAApC,GAA4C,QAAhD;AACA,YAAI,cAAc,GAAd,GAAmB,eAAe,MAAlC,GAAyC,QAA7C;AACH,KAHK,MAGA,IAAI,QAAQ,YAAZ,EAA0B;AAC5B,YAAI,cAAc,IAAd,GAAqB,cAAc,KAAnC,GAA0C,QAA9C;AACA,YAAI,cAAc,GAAd,GAAkB,cAAc,MAAhC,GAAwC,QAA5C;AACH,KAHK,MAGA,IAAI,QAAQ,eAAZ,EAA6B;AAC/B,YAAI,cAAc,IAAd,GAAqB,eAAe,KAApC,GAA4C,QAAhD;AACA,YAAI,cAAc,GAAd,GAAkB,cAAc,MAAhC,GAAwC,QAA5C;AACH,KAHK,MAGD;AACD,YAAI,cAAc,IAAd,GAAqB,cAAc,KAAnC,GAA0C,QAA9C;AACA,YAAI,cAAc,GAAd,GAAkB,cAAc,MAAhC,GAAwC,QAA5C;AACH;AACD,YAAQ,KAAR,CAAc,MAAd,EAAqB,IAAE,IAAvB,EAA6B,KAA7B,CAAmC,KAAnC,EAA0C,IAAE,IAA5C,EACK,KADL,CACW,UADX,EACuB,UADvB,EAEK,eAFL;AAGH","file":"volcano_plot-compiled.js","sourcesContent":["/**\n * Created by hqyone on 9/22/16.\n */\nVolcanoPlot=function(data, parent_div_id, settings){\n    //For IE9 compatibility problem\n    Math.log2 = Math.log2 || function(x){return Math.log(x)*Math.LOG2E;};\n    Math.log10 = Math.log10 || function(x){return Math.log(x)/Math.LN10;};\n\n    this.test_input_data ={\n         group1:[{name:\"point1\",p:0.01, r:2, value:100, tooltip:\"\", id:\"id1\"}, {name:\"point2\",p:0.04, r:0.5, value:200, tooltip:\"\", id:\"id2\"}],\n         group2:[{name:\"point3\",p:0.1, r:4, value:100, tooltip:\"\", id:\"id3\"}, {name:\"point4\",p:0.02, r:0.5, value:200, tooltip:\"\", id:\"id4\"}]\n    };\n\n    this.__data = data;\n    if (data===undefined){\n        this.__data = this.test_input_data;\n    }\n    this.parent_div_id = parent_div_id;\n    if (parent_div_id === undefined || parent_div_id==\"\") {\n        this.parent_div_id = 'body';\n    }\n\n    this.settings = {\n        case_max_width:30,\n        case_space_unit:0.5, //0.85\n\n        x:0,\n        y:0,\n        width:1000,\n        height:600,\n\n        margin_top:30,\n        margin_bottom:60,\n        margin_left:70,\n        margin_right:20,\n\n        p_limit:0.0001,\n        r_min_limit:0.125,\n        r_max_limit:8,\n\n        x_title:\"name\",\n        y_title:\"value\",\n        title:\"title\",\n\n        show_labels: true,\n        use_size:true,\n        radio:10,\n        tooltip_loc:\"south_east\" //north, south, western, east\n\n\n    };\n    if (settings!=undefined){\n        jQuery.extend(this.settings, settings);\n    }\n};\n\n\nVolcanoPlot.prototype.initialization = function(settings){\n    var self = this;\n    if (settings!=undefined){\n        jQuery.extend(self.settings, settings);\n    }\n\n    self.margin ={top: self.settings.margin_top, bottom: self.settings.margin_bottom,\n        right: self.settings.margin_right, left: self.settings.margin_left};\n    var min_p_value = Infinity;\n    for (var group_name in self.__data){\n        var series =  self.__data[group_name];\n        for (var k=0; k<series.length; k++) {\n            var spot = series[k];\n            if (min_p_value>spot.p){\n                min_p_value = spot.p;\n            }\n        }\n    }\n\n    //Initial layout\n    self.chart_x = self.margin.left;\n    self.chart_y = self.margin.top;\n    self.chart_width = self.settings.width-self.margin.left-self.margin.right;\n    self.chart_height = self.settings.height -self.margin.top-self.margin.bottom;\n\n\n    //self.p_min_limit = min_p_value*0.5;\n    self.p_min_limit = self.settings.p_limit;\n    //Initialization the scales for data plot\n    self.xscale = d3.scale.linear().domain([Math.log2(self.settings.r_min_limit), Math.log2(self.settings.r_max_limit)])\n        .range([self.chart_x, self.chart_x+self.chart_width]);\n    self.yscale = d3.scale.linear().domain([0, Math.log10(self.p_min_limit)*-1])\n        .range([self.margin.top+self.chart_height, self.chart_y]);\n    self.size_scale = d3.scale.log().domain([1,600])\n        .range([3, 10]);\n};\n\nVolcanoPlot.prototype.render = function(input_data, settings){\n    var self= this;\n    if(input_data !=undefined){\n        self.__data = input_data;\n    }\n    if(settings == undefined){\n        var grandparent_div = $(\"#\"+self.parent_div_id).parent();\n        if(grandparent_div.width()>20 && grandparent_div.height()>20){\n            self.settings.width = grandparent_div.width();\n            self.settings.height = grandparent_div.height();\n        }\n    }\n    var data = self.__data;\n    self.initialization(settings);\n\n\n    function redraw() {  //放大缩小 鼠标滑动   scale放大倍数，translate是转变，转换\n        svg_g.select(\".x_axis\").call(self.xAxis_1);\n        svg_g.select(\".y_axis\").call(self.yAxis_1);\n        svg_g.select(\".x.axis.grid\").call(self.xAxis);\n        svg_g.select(\".y.axis.grid\").call(self.yAxis);\n        masked_svg_g.selectAll(\".redrawable\").attr(\"transform\", \"translate(\" + d3.event.translate + \")\" + \"scale(\" + d3.event.scale + \")\");\n        clear_all_tooltips();\n    }\n    var zoom = d3.behavior.zoom()\n        .x(self.xscale)\n        .y(self.yscale)\n        .scaleExtent([0.5, 20])\n        .on(\"zoom\", redraw);\n    var container = d3.select(\"#\" + self.parent_div_id);\n    container.selectAll('svg').remove();\n    var cur_svg = container.append('svg')\n        .attr(\"id\", self.parent_div_id + \"_volcano_svg\")\n        .attr(\"class\", 'volcano svg')\n        .attr(\"width\", self.settings.width)\n        .attr(\"height\", self.settings.height)\n        .attr(\"overflow\", \"hidden\")\n        .call(zoom)\n\n    var svg_g =cur_svg\n        .append(\"g\")  //Important for Zoom in out\n\n    var masked_svg_g =cur_svg\n        .append(\"g\")  //Important for Zoom in out\n        .attr(\"clip-path\",\"url(#maskurl)\")\n\n\n    cur_svg.append(\"defs\").append(\"svg:clipPath\")\n        .attr(\"id\", \"maskurl\")\n        .append(\"rect\")\n        .attr('width', self.chart_width)\n        .attr('height', self.chart_height)\n        .attr('x', self.margin.left)\n        .attr('y', self.margin.top);\n\n    svg_g.append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"width\", self.chart_width)\n        .attr(\"height\", self.chart_height)\n        .attr(\"fill\",'white').style(\"pointer-events\",\"all\");\n\n\n\n    self.draw_axis(svg_g);\n    self.draw_title(svg_g);\n\n    self.draw_legends(masked_svg_g);\n    self.draw_serie_ls(masked_svg_g);\n    draw_Print_Legend(self.parent_div_id + \"_volcano_svg\", undefined, {width:self.settings.width, height:self.settings.height});\n}\n\n\nVolcanoPlot.prototype.draw_axis = function(svg_g){\n    var self= this;\n\n    self.xAxis = d3.svg.axis().scale(self.xscale)\n        .orient(\"bottom\").ticks(5);\n\n    self.xAxis_1 = d3.svg.axis().scale(self.xscale)\n        .orient(\"bottom\").ticks(5);\n\n    self.yAxis = d3.svg.axis().scale(self.yscale)\n        .orient(\"left\").ticks(5);\n\n    self.yAxis_1 = d3.svg.axis().scale(self.yscale)\n        .orient(\"left\").ticks(5);\n    //Create axises\n    // Add the X Axis\n    svg_g.append(\"g\")\n        .attr(\"class\", \"x_axis\")\n        //.attr(\"transform\", \"translate(\"+cur_margin.margin_left+\",\"+(height+cur_margin.margin_top)+\")\")\n        .attr(\"transform\", \"translate(\" +0+\",\"+(self.margin.top + self.chart_height)+ \")\")\n        .call(self.xAxis_1).selectAll(\"path\").attr(\"fill\", \"none\");\n    //.selectAll(\"text\")\n    //.style(\"text-anchor\", \"end\")\n    //.attr(\"dx\", \"-.4em\")\n    //.attr(\"dy\", \".16em\")\n    //.attr(\"transform\", function(d) {\n    //    return \"translate(0,6) rotate(-50)\"\n    //}\n    //)\n\n    // Add the Y Axis\n    svg_g.append(\"g\")\n        .attr(\"class\", \"y_axis\")\n        //.attr(\"transform\", \"translate(\" + 0 + \",\" + 0 + \")\")\n        .attr(\"transform\", \"translate(\" + self.margin.left + \",\" + 0 + \")\")\n        .call(self.yAxis_1).selectAll(\"path\").attr(\"fill\", \"none\");\n\n    //Add grid\n    svg_g.append(\"g\")\n        .attr(\"class\", \"x axis grid\")\n        .attr(\"transform\", \"translate(\" +0+\",\"+(self.margin.top + self.chart_height)+ \")\")\n        .attr({\n            'fill':'none',\n            'stroke':'grey',\n            'opacity':0.6\n        })\n        .call(self.xAxis\n            .tickSize(-self.chart_height, 0, 0)\n            .tickFormat(\"\")\n        );\n\n    svg_g.append(\"g\")\n        .attr(\"class\", \"y axis grid\")\n        .attr(\"transform\", \"translate(\" + self.margin.left + \",\" + 0 + \")\")\n        .attr({\n            'fill':'none',\n            'stroke':'grey',\n            'opacity':0.6\n        })\n        .call(self.yAxis\n            .tickSize(-self.chart_width, 0, 0)\n            .tickFormat(\"\")\n        );\n    self.draw_axis_title(svg_g);\n}\n\nVolcanoPlot.prototype.draw_axis_title = function(svg_g){\n    var self = this;\n    //Add title of x axis\n    svg_g.append(\"g\").append(\"text\")\n        //.selectAll(\".multi_line_type_Labelg\")\n        .attr(\"x\", self.margin.left + self.chart_width/2)\n        .attr(\"y\", self.margin.top+ self.chart_height + self.margin.bottom*2/3)\n        .style(\"fill\",\"black\")\n        .style(\"text-anchor\", \"middle\")\n        .text(function (d) {\n            return \"log2(Hazard Ratio)\";\n        })\n\n    //Add title of y axis\n    svg_g.append(\"g\")\n        //.selectAll(\".multi_line_type_Labelg\")\n\n        .append(\"text\")\n        .attr(\"y\", self.margin.left/3)\n        .attr(\"x\", -1*(self.margin.top+ self.chart_height/2))\n        .style(\"fill\",\"black\")\n        .style(\"text-anchor\", \"middle\")\n        .text(function (d) {\n            return \"-log10(p-value)\";\n        })\n        .attr(\"transform\", function(d) {\n            //return \"translate (\"+self.margin.left/3+\",\"+(self.margin.top+self.chart_height/2)+\"),rotate(270)\";\n            return \"rotate(270)\";\n        });\n};\n\nVolcanoPlot.prototype.draw_title = function(svg_g){\n    var self= this;\n    if (self.settings.title!=undefined && self.settings.title!=\"\"){\n        //Add title of figure\n        svg_g.append(\"g\").append(\"text\")\n            //.selectAll(\".multi_line_type_Labelg\")\n            .attr(\"x\", self.margin.left + self.chart_width/2)\n            .attr(\"y\", self.margin.top/2)\n            .style(\"fill\",\"black\")\n            .style(\"text-anchor\", \"middle\")\n            .style(\"font-family\",\"sans-serif\")\n            .style(\"font-size\", \"14px\")\n            .text(function (d) {\n                return self.settings.title;\n            })\n    }\n};\n\nVolcanoPlot.prototype.draw_legends=function(svg_g){\n    var self= this;\n    //Draw zero line\n    svg_g.append(\"line\")\n        .attr(\"id\", \"volcano_hr_zero_line\")\n        .attr(\"class\", \"redrawable\")\n        .attr(\"y1\",self.margin.top)\n        .attr(\"x1\",self.xscale(0))\n        .attr(\"y2\",self.margin.top+self.chart_height)\n        .attr(\"x2\",self.xscale(0))\n        .attr(\"stroke\", \"blue\")\n        .attr(\"opacity\", '0.8')\n        .attr('stroke-width', 2)\n    //Draw p 0.05 line\n    svg_g.append(\"line\")\n        .attr(\"id\", \"volcano_hr_zero_line\")\n        .attr(\"class\", \"redrawable\")\n        .attr(\"y1\",self.yscale(Math.log10(0.05)*-1))\n        .attr(\"x1\",self.margin.left)\n        .attr(\"y2\",self.yscale(Math.log10(0.05)*-1))\n        .attr(\"x2\",self.margin.left+self.chart_width)\n        .attr(\"stroke\", \"red\")\n        .attr(\"opacity\", '0.8')\n        .attr('stroke-width', 2)\n\n    svg_g.append(\"text\")\n        .attr(\"id\", \"volcano_hr_zero_line\")\n        .attr(\"class\", \"redrawable\")\n        .attr(\"y\",self.yscale(Math.log10(0.05)*-1)-10)\n        .attr(\"x\",self.margin.left + self.chart_width -50)\n        .text(\"p = 0.05\")\n        .attr(\"fill\", \"red\")\n        .attr(\"stroke-width\",0 )\n};\n\nVolcanoPlot.prototype.draw_serie_ls=function(svg_g){\n    var self= this;\n    var seris_ls_g = svg_g.append(\"g\").attr(\"class\", \"volcano serie_ls\");\n    for (var series_name in this.__data){\n        var series_g = seris_ls_g.append(\"g\")\n            .attr(\"class\", function(d) {return \"volcano series \"+ series_name;})\n            .attr(\"id\", function(d) {return \"volcano_series_\"+ series_name;})\n        self.draw_series(series_g, this.__data[series_name]);\n        if (self.settings.show_labels){\n            self.draw_series_text(series_g,this.__data[series_name]);\n        }\n    }\n};\n\nVolcanoPlot.prototype.draw_series=function(parent_g, series){\n    var self= this;\n    //var parent_g = d3.select(\"#volcano_series_\"+series.name);\n    var x_scale = self.xscale;\n    var y_scale = self.yscale;\n    var size_scale = self.size_scale;\n\n    parent_g.append(\"g\").selectAll(\"circle\")\n        .data(series)\n        .enter().append(\"circle\")\n        .attr(\"class\",  function(d){return \"volcano series \"+series.name+\" circle \"+ d.id +\" redrawable\"})\n        .attr(\"id\",  function(d){return \"volcano_series_\"+series.name+\"_circle_\"+d.id})\n        .attr(\"cx\", function(d){\n            var hr = d.r;\n            if (hr<self.settings.r_min_limit){\n                hr = self.settings.r_min_limit;\n            }else if (hr>self.settings.r_max_limit){\n                hr = self.settings.r_max_limit;\n            }\n            return x_scale(Math.log2(parseFloat(hr)))\n        })\n        .attr(\"cy\", function(d){return y_scale(Math.log10(Math.max(parseFloat(d.p),self.settings.p_limit))*-1)+3})\n        .attr(\"r\", function(d){\n            if(self.settings.use_size){\n                return self.size_scale(d.value)\n            }else{ return self.settings.radio;}\n        })\n        .attr(\"fill\", function(d){\n            if (d.p<0.05){\n                if (d.r>1){return \"red\";} else {return \"green\";}\n            }else{\n                return \"grey\"\n            }\n        })\n        .attr(\"opacity\", 0.4)\n        .on(\"mouseover\", function(d){\n            var cur_item = d3.select(this);\n            var a = d3.select(this);\n            a.attr(\"fill\",\"orange\");\n            a.attr(\"opacity\", 0.8)\n            ;            //draw_biomarker_statistic_tooltip_2(d.biomarker,d.case_ls,d.data_filter_str);\n            var html_str = '<strong>Case Number</strong> :' + d.value;\n            self.draw_sunburst_tooltip(a,d.km_data,html_str,d.name);\n\n        })\n        .on(\"mouseout\", function(d){\n            // clear_all_tooltips();\n            var a = d3.select(this);\n            a.attr(\"fill\", function(){\n                if (d.p<0.05){\n                    if (d.r>1){return \"red\";} else {return \"green\";}\n                }else{\n                    return \"grey\"\n                }\n            })\n            d3.select(\"body\").selectAll(\"#cur_sunburst_km_tooltip\").style('display', \"none\");\n        })\n        .on(\"click\", function(d){\n            var request = {type: d.type, data:{bm_id: d.name}};\n            /**if (x.anno_data.type == \"biomarker\"){\n                    request.data={bm_id: x.name};}\n             else if (x.anno_data.type == \"drug\"){\n                    request.data={drug: x.name};}**/\n            dispatch.CHANGE_CUR_BM(request);\n        })\n};\n\nVolcanoPlot.prototype.draw_series_text=function(parent_g, series){\n    var self= this;\n    //var parent_g = d3.select(\"#volcano_series_\"+series.name);\n    var x_scale = self.xscale;\n    var y_scale = self.yscale;\n    var size_scale = self.size_scale;\n    //tooltip:\n    /**var expLab = d3.select(\"body\").selectAll(\".stack_barchart_tooltip\");\n     if(expLab==undefined || expLab[0].length<1){\n        expLab =d3.select(\"body\").append('div')\n            .attr(\"class\", \"stack_barchart_tooltip\")\n            .style('display', 'none')\n            .style('z-index', 999999999);\n    }**/\n\n    parent_g.append(\"g\").selectAll(\"text\")\n        .data(series)\n        .enter().append(\"text\")\n        .attr(\"class\",  function(d){return \"volcano series \"+series.name+\" text \"+ series.id + \" redrawable\"})\n        .attr(\"id\",  function(d){return \"volcano_series_\"+series.name+\"_text_\"+series.id})\n        .attr(\"x\", function(d){\n            var hr = d.r;\n            if (hr<self.settings.r_min_limit){\n                hr = self.settings.r_min_limit;\n            }else if (hr>self.settings.r_max_limit){\n                hr = self.settings.r_max_limit;\n            }\n            return x_scale(Math.log2(parseFloat(hr)))\n        })\n        .attr(\"y\", function(d){return y_scale(Math.log10(Math.max(parseFloat(d.p),self.settings.p_limit))*-1)-12})\n        .text(function(d){\n            if(d.p<0.1){\n                if (d.name.length>10){\n                    return d.name.substr(0,7)+\"...\"\n                }\n                return d.name\n            }\n            return \"\";\n        })\n        .attr(\"text-anchor\",'middle')\n        .attr(\"fill\", function(d){\n            if (d.p<0.05){\n                if (d.r>1){return \"red\";} else {return \"green\";}\n            }else{\n                return \"grey\"\n            }\n        })\n        .attr(\"opacity\", 0.8)\n        .on(\"mouseover\", function(d){\n            var cur_item = d3.select(this);\n            var a = d3.select(this);\n            a.attr(\"fill\",\"orange\");\n            //draw_biomarker_statistic_tooltip_2(d.biomarker,d.case_ls,d.data_filter_str);\n            /**var output = '<strong>Name</strong>: '+d.name+'<br><strong>p </strong>: ' + d.p +'<br><strong>HR </strong>: ' + d.r+\n             '<br><strong>Case Number</strong> :' + d.value;\n             expLab.style(\"left\", (d3.event.pageX+10) + \"px\")\n             .style(\"top\", (d3.event.pageY+10) + \"px\")\n             .style('display', 'block')\n             .style('position', 'absolute')\n             .html(output.substring(0, output.length)).moveNodeToFront();**/\n        })\n        .on(\"mouseout\", function(d){\n            // clear_all_tooltips();\n            var a = d3.select(this);\n            a.attr(\"fill\", function(){\n                if (d.p<0.05){\n                    if (d.r>1){return \"red\";} else {return \"green\";}\n                }else{\n                    return \"grey\"\n                }\n            })\n            //expLab.style('display', 'none')\n        })\n};\n\nVolcanoPlot.prototype.draw_legends=function(svg_g) {\n    var self = this;\n    //Draw zero line\n    svg_g.append(\"line\")\n        .attr(\"id\", \"volcano_hr_zero_line\")\n        .attr(\"class\", \"redrawable\")\n        //.attr(\"y1\", self.margin.top)\n        .attr(\"y1\", -1000)\n        .attr(\"x1\", self.xscale(0))\n        //.attr(\"y2\", self.margin.top + self.chart_height*)\n        .attr(\"y2\", self.margin.top + self.chart_height*3)\n        .attr(\"x2\", self.xscale(0))\n        .attr(\"stroke\", \"blue\")\n        .attr(\"opacity\", '0.8')\n        .attr('stroke-width', 2)\n    //Draw p 0.05 line\n    svg_g.append(\"line\")\n        .attr(\"id\", \"volcano_hr_zero_line\")\n        .attr(\"class\", \"redrawable\")\n        .attr(\"y1\", self.yscale(Math.log10(0.05) * -1))\n        //.attr(\"x1\", self.margin.left)\n        .attr(\"x1\", -1000)\n        .attr(\"y2\", self.yscale(Math.log10(0.05) * -1))\n        //.attr(\"x2\", self.margin.left + self.chart_width)\n        .attr(\"x2\", self.margin.left + self.chart_width*3)\n        .attr(\"stroke\", \"red\")\n        .attr(\"opacity\", '0.8')\n        .attr('stroke-width', 2)\n\n    svg_g.append(\"text\")\n        .attr(\"id\", \"volcano_hr_zero_line\")\n        .attr(\"class\", \"redrawable\")\n        .attr(\"y\", self.yscale(Math.log10(0.05) * -1) - 10)\n        .attr(\"x\", self.margin.left + self.chart_width - 80)\n        .text(\"p = 0.05\")\n        .attr(\"fill\", \"red\")\n        .attr(\"stroke-width\", 0)\n}\n\nVolcanoPlot.prototype.draw_sunburst_tooltip = function(parent_div, data, html_str, title){\n    var self = this;\n    if (data!=undefined){\n        //tooltip:\n        var tooltip = d3.select(\"body\").selectAll(\"#cur_sunburst_km_tooltip\");\n        if(tooltip==undefined || tooltip[0].length<1){\n            tooltip =d3.select(\"body\").append('div')\n                .attr(\"id\",\"cur_sunburst_km_tooltip\")\n                .attr(\"class\", \"sunburst_km_tooltip\")\n                .style('display', 'none')\n                .style('z-index', 999999999);\n        }else{\n            tooltip.attr(\"class\", \"sunburst_km_tooltip\")\n        }\n        tooltip.selectAll(\"div\").remove();\n        tooltip.selectAll(\"span\").remove();\n        tooltip.selectAll(\"hr\").remove();\n        tooltip.append(\"span\").text(title).classed(\"tooltip_title\", true);\n        tooltip.append(\"hr\").classed(\"tooltip_title\", true);\n        tooltip.append(\"div\").html(html_str);\n        if (data!=undefined){\n            var kmplot_settings = {width:300, height:200,comp_classes:[\"pos\",\"neg\"],\n                margin_cal_type:\"absolute\", margin_left:60, margin_bottom:50};\n            tooltip.append(\"div\").attr(\"id\",\"sunburst_tooltip_km_plot\");\n            var km_plot = new KMPlot(undefined,\"sunburst_tooltip_km_plot\");\n            km_plot.render(data,kmplot_settings);\n            tooltip.style(\"left\", (d3.event.pageX+7) + \"px\")\n                .style(\"top\", (d3.event.pageY-40) + \"px\")\n                .classed('hidden', false)\n                .style('position', 'absolute')\n        }\n        tooltip.classed(\"hidden\", false);\n        setTooltipLocation(parent_div, tooltip, self.settings.tooltip_loc,5);\n    }\n}\n\nfunction setTooltipLocation(parent_div, tooltip, type, distance){\n    //Change the location of tooltip\n    tooltip.style('display', 'block');\n    var parent_region = parent_div.node().getBoundingClientRect();\n    var tooltip_region =  tooltip.node().getBoundingClientRect();\n    if (distance == undefined){\n        distance = 5;\n    }\n    var x = d3.event.pageX+distance;\n    var y = d3.event.pageX+distance;\n    if (type ==\"north\"){\n        x = parent_region.left - (tooltip_region.width - parent_region.width)/2;\n        y = parent_region.top -tooltip_region.height-distance;\n    }else if (type == \"east\") {\n        x = parent_region.left + parent_region.width +distance;\n        y = parent_region.top+parent_region.height/2-tooltip_region.height/2;\n    }else if (type == \"western\") {\n        x = parent_region.left - tooltip_region.width - distance;\n        y = parent_region.top+parent_region.height/2-tooltip_region.height/2;\n    }else if (type == \"south\") {\n        x = parent_region.left - (tooltip_region.width - parent_region.width)/2;\n        y = parent_region.top+parent_region.height +distance;\n    }else if (type == \"north_east\") {\n        x = parent_region.left + parent_region.width +distance;\n        y = parent_region.top -tooltip_region.height-distance;\n    }else if (type == \"north_western\") {\n        x = parent_region.left - tooltip_region.width - distance;\n        y = parent_region.top -tooltip_region.height-distance;\n    }else if (type == \"south_east\") {\n        x = parent_region.left + parent_region.width +distance;\n        y = parent_region.top+parent_region.height +distance;\n    }else if (type == \"south_western\") {\n        x = parent_region.left - tooltip_region.width - distance;\n        y = parent_region.top+parent_region.height +distance;\n    }else{\n        x = parent_region.left + parent_region.width +distance;\n        y = parent_region.top+parent_region.height +distance;\n    }\n    tooltip.style(\"left\",x+\"px\").style(\"top\", y+\"px\")\n        .style('position', 'absolute')\n        .moveNodeToFront();\n}\n\n"]}